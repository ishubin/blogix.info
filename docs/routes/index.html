<!DOCTYPE html>
<html>
    <head>
        
        <title>Routes Configuration | Blogix</title>
        <link rel="stylesheet" href="../../public/main.css" media="screen" type="text/css">
        <link rel="stylesheet" href="../../public/style.css" media="screen" type="text/css">
        <link rel="stylesheet" href="../../public/solarized_dark.css" media="screen" type="text/css">
        <meta name="viewport" content="width=device-width; initial-scale=1.0">
        <script src="../../public/jquery-1.8.3.min.js"></script>
        <script src="../../public/highlight.pack.js"></script>
        <script>
            var _FULL = 1;
            var _MOBILE = 2;
            var layout = {
                layout:_FULL,
                switchToMobile: function() {
                    if (this.layout != _MOBILE) {
                        this.layout = _MOBILE;
                        this.createSelectForMenu();
                        $("#nav").hide();
                        $("#navigationSelect").show();
                        $("#middle").removeClass("full-layout").addClass("mobile-layout");
                        $("#navigation").removeClass("full-layout").addClass("mobile-layout");
                    }
                },
                createSelectForMenu: function() {
                    if ($("#navigationSelect select option").length == 0) {
                        var select = $("#navigationSelect select");
                        select.append($("<option></option>").text("Navigate..."));
                        $("#nav li a").each(function () {
                            var href=$(this).attr("href");
                            var text=$(this).html();
                            select.append($("<option></option>").attr("value", href).text(text));
                        });
                    }
                    $("#navigationSelect select").change(function (){
                        var href = $(this).val();
                        if (href != null && href != "") {
                            window.location = href;
                        }
                    });
                },
                switchToFull: function() {
                    if (this.layout != _FULL) {
                        this.layout = _FULL;
                        $("#nav").show();
                        $("#navigationSelect").hide();
                        $("#navigation").removeClass("mobile-layout").addClass("full-layout");
                        $("#middle").removeClass("mobile-layout").addClass("full-layout");
                    }
                }
            };

            function globalResize(){
                var width = $(window).width(); 
                if (width < 800) {
                    layout.switchToMobile();
                }
                else {
                    layout.switchToFull();
                }
            }

            function highlightCodeBlocks() {
                $("code.block").each(function (){
                    var html = $(this).html();
                    var className = $(this).attr("data-language");
                    $(this).html("<pre><code class=\"" + className + "\">" + html + "</code></pre>");
                    if (className != null && className != "") {
                        hljs.highlightBlock($(this).find("pre code").get(0));
                    }
                });
            }

            $(function(){
                $(window).resize(globalResize);
                globalResize();

                $("#search-panel a").click(function (){
                    var q = encodeURI($("#search-panel input").val() + " site:blogix.info");
                    window.location = "http://www.google.com/search?q=" + q;
                    return false;
                });

                highlightCodeBlocks();
            });

        
        </script>
    </head>
    <body>
        <div id="wrapper">

            <div id="header">
                <h1>Blogix</h1>
                <h2>Blogging framework for geeks</h2>
            </div><!-- #header-->
            <div id="navigation">
                <ul id="nav">
                    <li><a href="../../">Home</a></li>
                    <li><a href="../../docs/about/">About</a>
                    <li><a href="../../download/">Download</a>
                    <li><a href="../../docs/all/">Docs</a>
                    <li><a href="https://github.com/ishubin/blogix">Fork us</a>
                        <li><a href="../../rss.xml">RSS</a>
                </ul>
                <div id="navigationSelect" style="display:none;">
                    Menu 
                    <select name="menu">
                    </select>
                </div>
                <div id="search-panel">
                    <form action="http://www.google.com/search">
                        <input name="q" value=""/>
                        <a href="http://www.google.com?q=site:blogix.info">Search</a>
                    </form>
                </div>
            </div>

            <div id="middle" class="full-layout">
                <div id="container">
                    <div id="content">
                        <div class="article">
    <div class="header">
        <h1>Routes Configuration</h1>
    </div>
    <div class="article-content">
        <p>Everything in blogix project is configured through <code>routes</code> file. In this file you can specify the url structure of your website, define the view, controller and url providers.<br/>This is how the regular routes file look like:</p><code class="block"># Url                               Controller                                      View                        Provider
#######################################################################################################################

/                                   Blogix.homeFirstPage                            browse                         

/page-{page}/                       Blogix.homePage(page)                           browse                      BlogixProvider.allHomePages

/post/{postId}/                     Blogix.post(postId)                             post                        BlogixProvider.allPosts   
/post/{postId}/files/{fileName}     Blogix.fileForPost(postId, fileName)            -                           BlogixProvider.allFilesForPosts  

/categories/                        Blogix.categories                               categories
</code><p>Every line in a routes file represent a resource whith the following data:</p><ul><li><strong>Url</strong> - Parametrized pattern for request mappings.</li><li><strong>Controller</strong> - A path to a static Java method which provides a model for this resource. In case if resource is parametrized you should specify all parameters from request mappings in the method arguments.</li><li><strong>View</strong> - Name of a view which defines either a tile or a freemarker file. Tiles are configerd in <code>conf/tiles</code> file.</li><li><strong>Provider</strong> - A path to a static Java method which provides an array of request parameters. This is used only when exporting all resources to static files.</li></ul>

    </div>
</div>

                    </div><!-- #content-->
                </div><!-- #container-->

            </div><!-- #middle-->

            <div id="footer">
                <div id="footer-sign">
                    Copyright &copy; 2013 - Ivan Shubin, Powered by <a href="http://blogix.info">Blogix</a>
                </div> 
            </div><!-- #footer -->

        </div><!-- #wrapper -->
    </body>
</html>
